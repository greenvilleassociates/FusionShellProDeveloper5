Version 22.2.0 October 1 2021

Download: nextcloud-22.2.0.tar.bz2 or nextcloud-22.2.0.zip
Check the file integrity with:
MD5: nextcloud-22.2.0.tar.bz2.md5 or nextcloud-22.2.0.zip.md5
SHA256: nextcloud-22.2.0.tar.bz2.sha256 or nextcloud-22.2.0.zip.sha256
SHA512: nextcloud-22.2.0.tar.bz2.sha512 or nextcloud-22.2.0.zip.sha512
PGP (Key): nextcloud-22.2.0.tar.bz2.asc or nextcloud-22.2.0.zip.asc
Changes

    Fix SQL type error (server#28531)
    Allow to open any app in a standalone window (server#28594)
    Fix encrypted version to 0 when finding unencrypted file (server#28603)
    Only recommand for php-sodium on >= PHP 7.4 (server#28658)
    Fix position of search bar (server#28670)
    Fix S3 ObjectStore proxy option (server#28683)
    NMC-464 Highlight the search term on no results (server#28685)
    NMC-552 Move filename/size out of the download button (server#28697)
    Fix user list infinite loading state in user settings (server#28701)
    Pin Psalm version for security analysis (server#28705)
    Bump css-vars-ponyfill from 2.4.6 to 2.4.7 (server#28712)
    Check if SVG path is valid (server#28734)
    Remove 2FA exemption from PublicPage annotation (server#28740)
    Bump 3rdparty ref (server#28744)
    Send attendence links to required and optinal attendees of an event without an RSVP (server#28748)
    Bump 3rdparty ref (server#28752)
    Fix trashbin files view sticky action bar (server#28769)
    Make it possible to override the default collation on mysql (server#28777)
    Allow users to choose a different email for notifications (server#28780)
    Dashboard - fix touch layout (server#28781)
    Scan the shared external storage source on access (server#28785)
    Bump vue-clipboard2 from 0.3.1 to 0.3.2 (server#28801)
    Add database ratelimiting backend (server#28814)
    Fixes missing prefix to validate password reset token (server#28824)
    Update .htaccess (php8+ and mod_lsapi) (server#28827)
    Do not cache file ids in FileSystemTags inside group folders (server#28830)
    Allow using of disabled password reset mechanism for special cases (server#28841)
    The user always may modify their additional emails (server#28843)
    Added support for transferring incoming file shares. (server#28844)
    L10n: ignore packed js files from TX sync (server#28850)
    Add config.php option for transfer ownership (server#28851)
    L10n: Remove a text string from translation (server#28852)
    Let user choose notification email in user settings (server#28855)
    Add email addresses to contacts menu (server#28860)
    Add new ExternalShareActions API (server#28865)
    Fix files view change and undefined currentFileList (server#28878)
    Fix file creation from template without ext (server#28881)
    Bump vue-clipboard2 from 0.3.2 to 0.3.3 (server#28888)
    Fall back to full file for video previews (server#28895)
    Update CRL due to revoked twofactor_email.crt (server#28900)
    Support seeking also from the end of file on S3 storage (server#28910)
    Use IRoomMetadata as source of truth for supported room types (server#28919)
    Bump 3rdparty ref (server#28928)
    Allow upgrade from 22.2.0.0 to 22.2.0.1 (server#28945)
    Fix caching of objectsid searches (server#28949)
    Allow casting query functions (server#28953)
    Fix check for redis minimal version (server#28954)
    Don't allow to change activity settings that don't work (server#28962)
    Bump app versions (server#28984)
    Fix redirect during initial setup (server#28998)
    Fix CI (3rdparty#758)
    Bump Webauthn Lib to 3.3.9 (3rdparty#780)
    Bump Archive_Tar to latest release (3rdparty#781)
    Composer install (3rdparty#812)
    Read the email from IUser (API) not guess from the DB (activity#637)
    Increase activity email speed in instances with more than 500 users (activity#641)
    Bump pdfjs-dist from 2.8.335 to 2.9.359 (files_pdfviewer#478)
    Bump @nextcloud/babel-config from 1.0.0-beta.1 to 1.0.0 (files_pdfviewer#479)
    Fix phpunit (files_pdfviewer#487)
    Update workflows (files_pdfviewer#492)
    Use setup-php v2 (files_pdfviewer#495)
    Bump cli-progress from 3.9.0 to 3.9.1 (files_pdfviewer#504)
    Fix illustrations (photos#876)
    Bump @nextcloud/vue from 3.10.0 to 3.10.2 (photos#889)
    Dependency updates (text#1835)
    Bump prosemirror-markdown from 1.5.1 to 1.5.2 (text#1851)
    Update dependabot (viewer#1013)

Version 22.1.1 August 29 2021

Download: nextcloud-22.1.1.tar.bz2 or nextcloud-22.1.1.zip
Check the file integrity with:
MD5: nextcloud-22.1.1.tar.bz2.md5 or nextcloud-22.1.1.zip.md5
SHA256: nextcloud-22.1.1.tar.bz2.sha256 or nextcloud-22.1.1.zip.sha256
SHA512: nextcloud-22.1.1.tar.bz2.sha512 or nextcloud-22.1.1.zip.sha512
PGP (Key): nextcloud-22.1.1.tar.bz2.asc or nextcloud-22.1.1.zip.asc
Changes

    Manual backport of "No limit in the number of group shares" #27875 (server#27993)
    Extend pending shares list in frontend to include remote shares (server#28209)
    Allow to disable group membership change notification (server#28231)
    Add h2 to personal info page, fixing accessibility issue (server#28252)
    Add quota restrictions options (server#28256)
    Bump marked from 2.0.6 to 2.0.7 (server#28271)
    Fix CI failures when building settings app (server#28274)
    Check that php was compiled with argon2 support or that the php-sodium extensions is installed (server#28288)
    Allow upgrade from 22.1 (server#28304)
    Bump dompurify from 2.2.8 to 2.2.9 (server#28340)
    Bump @babel/preset-env from 7.14.8 to 7.14.9 (server#28341)
    Bump vue-loader from 15.9.7 to 15.9.8 (server#28342)
    Change the concurrent upload limit to less than 10 (server#28353)
    Fix Folder->getById() when a single storage is mounted multiple times (server#28359)
    Make "name" column nullable for workflows (server#28384)
    Gracefully handle smb acls for users without a domain (server#28416)
    Add missing files for Composer v2 (server#28441)
    Improve auto expiration hint for trashbin and file versions (server#28446)
    UnifiedSearchController: strip webroot from URL before finding a route (server#28454)
    Only trap E_ERROR in session handling (server#28470)
    Disable autofocus of primary Email (server#28479)
    Emit an error log when the app token login name does not match (server#28489)
    Hash cache key (server#28494)
    Fix #20913: Check image resource before attempting to preserve alpha (server#28499)
    Output exception in cron (server#28518)
    Properly log errors in Movie previews generation (server#28522)
    Fix folder size contained in S3 buckets (server#28534)
    Set alias for result of cast column function (server#28536)
    Do not load versions tab view if the files app is not available (server#28545)
    Bump webdav from 4.6.0 to 4.6.1 (server#28553)
    Fix UserController tests (server#28568)
    Use case insensitive like when limiting search to jail (server#28573)
    Log exception message during failed ownership transfer share restore (server#28576)
    Use getGetUnjailedRoot to determine if jailed search needs the path filter (server#28583)
    22.1.1-rc2 (server#28590)
    Fix setting up 2FA providers when 2FA is enforced and bc are generated (server#28596)
    Fix activity design (activity#633)
    Check if `$knownPath` is set before invoking `rtrim()` (circles#776)
    Generate quick members' memberships during migration (circles#779)
    Verify shareType in params (circles#782)
    Details on non-visible (but open) circles (circles#787)
    Fix definition on single circles (circles#788)
    Emulate initiator on CircleJoin (circles#791)
    Owner of NO_OWNER should not have memberships cached (circles#799)
    Fix notification when invited to a circle (circles#800)
    Exception on non visible circle (circles#805)
    Force join_request on old secret circles (circles#806)
    Fix hide download and printing (files_pdfviewer#460)
    Fix body footer hiding (files_pdfviewer#463)
    Disable download for pdf files (files_pdfviewer#469)
    Fix download & print view (files_pdfviewer#473)
    Fix share option being displayed erroneously (files_rightclick#119)
    Give twofactor nextcloud notifications a high priority (notifications#1062)
    Always show the dismiss all button (notifications#1065)
    Fix maria db tests (notifications#1067)
    High priority for the PhoneTrack app (notifications#1070)
    Bump @babel/plugin-transform-modules-commonjs from 7.14.0 to 7.14.5 (text#1732)
    Bump @babel/plugin-transform-classes from 7.14.5 to 7.14.9 (text#1813)
    Bump vue-loader from 15.9.7 to 15.9.8 (text#1814)
    Bump @babel/preset-env from 7.14.5 to 7.14.9 (text#1815)

Version 22.1.0 August 6 2021

Download: nextcloud-22.1.0.tar.bz2 or nextcloud-22.1.0.zip
Check the file integrity with:
MD5: nextcloud-22.1.0.tar.bz2.md5 or nextcloud-22.1.0.zip.md5
SHA256: nextcloud-22.1.0.tar.bz2.sha256 or nextcloud-22.1.0.zip.sha256
SHA512: nextcloud-22.1.0.tar.bz2.sha512 or nextcloud-22.1.0.zip.sha512
PGP (Key): nextcloud-22.1.0.tar.bz2.asc or nextcloud-22.1.0.zip.asc
Changes

    Update guzzlehttp/guzzle requirement from 6.5.2 to 7.3.0 in /build/integration (server#27654)
    Bump vue and vue-template-compiler (server#27658)
    Bump vue-router from 3.5.1 to 3.5.2 (server#27659)
    Ignore subdomain for soa queries (server#27825)
    Fix in locking cache check (server#27826)
    Fixes recursion count incrementation (server#27848)
    Make search popup usable on mobile, too (server#27856)
    Cache images on browser (server#27861)
    Fix add group button (server#27878)
    Fix dark theme on public link shares (server#27889)
    Make user status usable on mobile (server#27898)
    Check if dns_get_record returns non-false (server#27925)
    Correctly skip suppressed errors in PHP 8.0 (server#27938)
    Fix newfileMenu on public page (server#27942)
    Do not escape display name in dashboard welcome text (server#27944)
    Fix svg icons disapearing in app navigation when text overflows (server#27957)
    Revert "Update guzzlehttp/guzzle requirement from 6.5.2 to 7.3.0 in /build/integration" (server#27959)
    Also hide group from direct matches (server#27964)
    Show registered breadcrumb detail views in breadcrumb menu (server#27966)
    Fix regression in file sidebar (server#27974)
    Allow to get a local cloud id without going through the contacts manager (server#27979)
    Multiple Emails UI and Integration (server#28001)
    Improve notcreatable permissions hint (server#28008)
    Some multiselect design fixes (server#28011)
    Only display supported email scopes (server#28014)
    Update CRL due to revoked twofactor_nextcloud_notification.crt (server#28016)
    Increase footer height for longer menus (server#28043)
    Add titleTooltip to sidebar (server#28047)
    Mask password for Redis and RedisCluster on connection failure (server#28053)
    Fix missing theming for login button (server#28061)
    Improve Emails UX (server#28071)
    Fix overlapping of elements in certain views (server#28073)
    Disable HEIC image preview provider for performance concerns (server#28079)
    Improve provider check (server#28085)
    Sanitize more functions from the encryption app (server#28089)
    Hide download button for public preview of audio files (server#28093)
    Fix dark theme in file exists dialog (server#28109)
    Support redis user password auth and tls encryption (server#28112)
    Bump @babel/core from 7.14.3 to 7.14.8 (server#28121)
    Let memory limit set in tests fit the used amount (server#28123)
    Bump @nextcloud/babel-config from 1.0.0-beta.1 to 1.0.0 (server#28126)
    Allow empty Redis config (server#28131)
    Add an option to the multiple files selected actions to add and removâ€¦ (server#28135)
    Bump css-vars-ponyfill from 2.4.3 to 2.4.5 (server#28149)
    Make sure that the dav propfind plugins always use the proper user id (server#28152)
    Admin Audit - Sharing: createShare - report the full path (server#28167)
    Fix sort function of files multiple selection actions (server#28168)
    User management - Add icon to user groups (server#28170)
    Bump @babel/preset-env from 7.14.7 to 7.14.8 (server#28177)
    Bump sass from 1.35.1 to 1.35.2 (server#28179)
    Bump autosize from 4.0.2 to 4.0.4 (server#28181)
    Fix variable override in file view (server#28193)
    Fix comments file action sidebar opening (server#28197)
    Set openfile params when following internal links (server#28215)
    Fix Files breadcrumbs being hidden even if there is enough space (server#28222)
    Dont apply jail search filter is on the root (server#28228)
    Fix missing label of Search function (server#28244)
    Add missing order attribute to tag multiselect action (server#28247)
    Update guzzlehttp/guzzle requirement from 6.5.2 to 6.5.5 in /build/integration (server#28269)
    Bump css-loader from 5.2.6 to 5.2.7 (server#28270)
    Bump css-vars-ponyfill from 2.4.5 to 2.4.6 (server#28272)
    Bump regenerator-runtime from 0.13.7 to 0.13.9 (server#28273)
    Fix "Enable notification emails" (activity#611)
    Show add, del and restored files within by and self filter (activity#614)
    Only call getCloudId if needed (activity#618)
    Link from app-navigation-settings to personal settings (activity#623)
    Remove echo (circles#688)
    Returns files shared to Personal (circles#698)
    Make cs-fix/cs-check (circles#699)
    Cs fix (circles#700)
    Backport of 704 (circles#708)
    Avoid timeout on check (circles#709)
    Better probe (circles#714)
    Removing hidden flag by default (circles#717)
    Generate probe if needed (circles#719)
    Adding unified search (circles#721)
    Detect source of search (circles#724)
    Remove root circles from search for new members (circles#727)
    Sending mail on new shares (circles#729)
    GetDefinition (circles#732)
    Cloud_force_base (circles#737)
    Fixing notification and mails (circles#738)
    Remote inherited and memberships (circles#740)
    Sendmail on new fileshare (circles#741)
    Fix phpdoc+lint (circles#742)
    Better display of mail addresses (circles#744)
    Limit non-local circles as members of local circles (circles#747)
    Local stays local (circles#749)
    Local circles starts local (circles#751)
    Throw instead of doing nothing (circles#754)
    Send mails to inherited members on GS (circles#755)
    Optional details on Link (circles#757)
    Include and config path in loopback (circles#759)
    Cleaning old code (circles#761)
    Migration to 22.1.0 - child shares (circles#762)
    Fix pdfviewer design (files_pdfviewer#445)
    Include version number in firstrunwizard (firstrunwizard#568)
    Remove timeout of browser notifications (notifications#1049)
    Some Design fixes (text#1711)
    Unify error responses and add logging where appropriate (text#1717)
    Bump eslint-plugin-import from 2.23.3 to 2.23.4 (text#1734)
    Bump @babel/core from 7.14.3 to 7.14.6 (text#1739)
    Fix: rich workspaces overlap with new file dropdown (text#1769)
    Azul/fix links 1676 (text#1775)
    Extend mimetypes for direct editing (text#1781)
    Bump @vue/test-utils from 1.2.1 to 1.2.2 (text#1792)
    Make occ command return an integer as return code (text#1797)
    Custom input rule to add first character after bullet (Backport #1798) (text#1806)
    Fix: cypress icon close selector (text#1808)
    Disable header timeout on mobile (viewer#977)